<?xml version="1.0" encoding="UTF-8"?>
<!--
 ! Source code generated by Celerio, a Jaxio product.
 ! Documentation: http://www.jaxio.com/documentation/celerio/
 ! Follow us on twitter: @jaxiosoft
 ! Need commercial support ? Contact us: info@jaxio.com
 ! Template pack-rcic:src/main/resources/sqlmap/modules/SqlMap.e.vm.xml
-->
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper">

    <resultMap id="snsAccountInfoResultMap" type="kr.or.lx.rcic.modules.snsAccountInfo.entity.SnsAccountInfo">
        <!-- 계정번호 -->
        <result property="accountNo" column="account_no"/>
        <!-- 계정 아이디 -->
        <result property="accountId" column="account_id"/>
        <!-- 계정 명 -->
        <result property="accountNm" column="account_nm"/>
        <!-- ???? 01:???, 02: ????, 03: ???? -->
        <result property="accountTy" column="account_ty"/>
        <!-- ????, y:??, n:??? -->
        <result property="useYn" column="use_yn"/>
        <!-- 타이머 일시 -->
        <result property="timer" column="timer"/>
    </resultMap>

    <sql id="whereConditions">
        <where>
            <include refid="conditions" />
        </where>
    </sql>

    <sql id="conditions">
        <if test="accountNo != null and accountNo != ''">
            AND account_no = #{accountNo}
        </if>
        <if test="accountId != null and accountId != ''">
            AND account_id = #{accountId}
        </if>
        <if test="accountNm != null and accountNm != ''">
            AND account_nm = #{accountNm}
        </if>
        <if test="accountTy != null and accountTy != ''">
            AND account_ty = #{accountTy}
        </if>
        <if test="useYn != null and useYn != ''">
            AND use_yn = #{useYn}
        </if>
        <if test="timer != null and timer != ''">
            AND timer = #{timer}
        </if>
    </sql>

    <select id="getSnsAccountInfo" resultMap="snsAccountInfoResultMap">
        /* kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper.getSnsAccountInfo */

        SELECT
            account_no, account_id, account_nm, account_ty, use_yn, timer
        FROM rcic.tb_sns_account_info
        WHERE
         account_no = #{accountNo}
	</select>

    <select id="selectSnsAccountInfoCnt" resultType="int">
        /* kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper.simpleListSnsAccountInfoCnt */

        SELECT COUNT(*)
        FROM rcic.tb_sns_account_info
        <include refid="whereConditions" />
    </select>

    
    <select id="selectSnsAccountInfoList" resultType="egovMap">
        /* kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper.selectSnsAccountInfoList */

        <include refid="common.headerRow"/>
        SELECT
            account_no, account_id, account_nm, account_ty, use_yn, timer
        FROM rcic.tb_sns_account_info
        <include refid="whereConditions" />
        <include refid="common.footerRow"/>
	</select>

    <update id="updateSnsAccountInfo" parameterType="kr.or.lx.rcic.modules.snsAccountInfo.entity.SnsAccountInfo">
        /* kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper.updateSnsAccountInfo */

        UPDATE rcic.tb_sns_account_info
        SET
               account_id = #{accountId}
                    , account_nm = #{accountNm}
                    , account_ty = #{accountTy}
                    , use_yn = #{useYn}
                    , timer = #{timer}
              WHERE
             account_no = #{accountNo}
    </update>

    <update id="updateSnsAccountInfoDynamic" parameterType="kr.or.lx.rcic.modules.snsAccountInfo.entity.SnsAccountInfo">
        /* kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper.updateSnsAccountInfoDynamic */

        UPDATE rcic.tb_sns_account_info
            <set>
            <if test="accountId != null and accountId != ''">
                account_id = #{accountId},
            </if>
            <if test="accountNm != null and accountNm != ''">
                account_nm = #{accountNm},
            </if>
            <if test="accountTy != null and accountTy != ''">
                account_ty = #{accountTy},
            </if>
            <if test="useYn != null and useYn != ''">
                use_yn = #{useYn},
            </if>
            <if test="timer != null and timer != ''">
                timer = #{timer},
            </if>
            </set>
        WHERE
             account_no = #{accountNo}
    </update>

    <delete id="deleteSnsAccountInfo" parameterType="kr.or.lx.rcic.modules.snsAccountInfo.entity.SnsAccountInfo">
        /* kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper.deleteSnsAccountInfo */

        DELETE FROM rcic.tb_sns_account_info
        WHERE
             account_no = #{accountNo}
    </delete>

    <insert id="insertSnsAccountInfo">
        /* kr.or.lx.rcic.modules.snsAccountInfo.mapper.SnsAccountInfoMapper.insertSnsAccountInfo */
        INSERT INTO rcic.tb_sns_account_info
        (
        account_no, account_id, account_nm, account_ty, use_yn, timer
        )
        VALUES (
        #{accountNo},
        #{accountId},
        #{accountNm},
        #{accountTy},
        #{useYn},
        #{timer}
        )
	</insert>

</mapper>

